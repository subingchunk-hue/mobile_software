<!--pages/character-setup/character-setup.wxml-->
<view class="container">
  <!-- 生成中遮罩 -->
  <view class="generating-overlay" wx:if="{{isGenerating}}">
    <view class="generating-content">
      <view class="loading-spinner"></view>
      <text class="generating-text">正在生成角色...</text>
      <text class="generating-subtitle">请稍候</text>
    </view>
  </view>

  <!-- 主要内容 -->
  <view class="main-content" wx:if="{{!isGenerating}}">
    <!-- 页面标题 -->
    <view class="page-header">
      <text class="page-title">创建你的角色</text>
      <text class="page-subtitle">选择性别和专业开始游戏</text>
    </view>

    <!-- 性别选择 -->
    <view class="section">
      <view class="section-title">
        <text class="title-text">选择性别</text>
      </view>
      <view class="options-grid">
        <view 
          class="option-item {{selectedGender === item.id ? 'selected' : ''}}"
          wx:for="{{genders}}"
          wx:key="id"
          data-id="{{item.id}}"
          bindtap="selectGender"
         style="width: 191rpx; display: flex; box-sizing: border-box; height: 74rpx">
          
          <text class="option-name">{{item.name}}</text>
        </view>
      </view>
    </view>

    <!-- 专业选择 -->
    <view class="section">
      <view class="section-title">
        <text class="title-text">选择专业</text>
      </view>
      <view class="options-grid major-grid">
        <view 
          class="option-item {{selectedMajor === item.id ? 'selected' : ''}}"
          wx:for="{{majors}}"
          wx:key="id"
          data-id="{{item.id}}"
          bindtap="selectMajor"
        >
          <text class="option-icon">{{item.icon}}</text>
          <text class="option-name">{{item.name}}</text>
        </view>
      </view>
    </view>

    <!-- 确认按钮 -->
    <view class="confirm-section">
      <button 
        class="confirm-btn {{selectedGender && selectedMajor ? 'active' : 'disabled'}}"
        bindtap="confirmSelection"
      >
        开始游戏
      </button>
    </view>
  </view>
</view>